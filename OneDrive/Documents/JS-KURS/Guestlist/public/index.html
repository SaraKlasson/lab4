<!DOCTYPE html>
<html lang="sv">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Gästlista</title>
    <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular.min.js"></script>


</head>

<body>
    <div data-ng-app="guestsApp" data-ng-cloak data-ng-controller="guestsCtrl" style="margin-top: 2em;">

        <input type="text" name="eventName" ng-model="eventName" data-ng-init="eventName='Ditt eventnamn'">
   
   
        

        <h2 style="margin-top: 1em;">{{eventName}}</h2>
        
        <div>
       

            <form name="form">
                <p>Lägg till ny gäst:</p>
                <input type="text" class="empty" data-ng-required="true" name="name" data-ng-model="name" />
                <p>Notering:</p>
                <input type="text" class="empty" name="note" data-ng-model="note" />
                <button onclick="emptyForm()" data-ng-click="addGuest(name, note)">Lägg till gäst</button>

            </form>
            <p>{{msg}}</p>
        </div>

        <br>

        <div>
            <table style="width: 100%;">
                <thead>
                    <tr>
                        <td data-ng-click="orderByMe('status'); toggleOrder()">
                            <a>Betalt</a>
                        </td>
                        <td data-ng-click="orderByMe('name'); toggleOrder()">
                            <a>Namn:</a>
                        </td>
                        <td data-ng-click="orderByMe('created'); toggleOrder()">
                            <a>Anmäld:</a>
                        </td>                                                  
                        <td data-ng-click="orderByMe('note'); toggleOrder()">
                            <a>Notering:</a>
                        </td>
                        <td></td>
                    </tr>

                </thead>
                <div class='filter'>
                    <form>
                        <label>Filtrera på sökning:&nbsp;
                            <input type="text" data-ng-model="filterQuery" placeholder="Filter...">
                        </label>
        
                        <a data-ng-model="date" data-ng-repeat="guests in guestscope | filter:filterDate | orderBy: 'created'"></a>
        
                    </form>  
        
                </div>  
                <!-- /.filter -->
                <tr data-ng-repeat="guests in guestscope | filter:filterQuery | orderBy:myOrderBy:orderVariable">

                    <td>
                        <input type="checkbox" data-ng-click="checkGuest(guests._id, guests.status)" data-ng-model="guests.status">
                    </td>

                    <td>{{ guests.name }}</td>
                    <td>{{ guests.created }}</td>
                    <td>{{ guests.note }}</td>
                    <td>
                        <button data-ng-click="remove(guests._id)">Radera</button>
                    </td>
                </tr>
            </table>
            <p>Antal gäster: {{guestscope.length}}</p><button data-ng-click="removeAll()">Töm lista</button>
        </div>


        <footer>
            <p>Denna laboration läser data från en REST-webbtjänst baserad på Node.js och MongoDB</p>
        </footer>

    </div>
    <!-- /.container -->

    <!-- Controller -->
   
    <script src="js/controllers/guestsController.js"></script>
    <script src="js/scripts.js"></script>
   

</body>

</html>